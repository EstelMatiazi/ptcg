<h2 mat-dialog-title>{{ card.fullName }}</h2>

<mat-dialog-content>
  <div class="ptcg-card-info-layout">
    <div class="ptcg-card-info-image">
      <ptcg-card [card]="card"></ptcg-card>
    </div>
    <div class="ptcg-card-info-text" *ngIf="card.superType === SuperType.POKEMON">
      <div class="title">
        <span>{{card.name}}</span>
        <div class="ptcg-u-spacer"></div>
        <div class="subtitle-evolves-from" *ngIf="card.evolvesFrom">
          (evolves from {{card.evolvesFrom}})
        </div>
      </div>
      <div class="subtitle">
        <div class="subtitle-stage" [ngSwitch]="card.stage">
          <span *ngSwitchCase="Stage.BASIC">Basic</span>
          <span *ngSwitchCase="Stage.STAGE_1">Stage 1</span>
          <span *ngSwitchCase="Stage.STAGE_2">Stage 2</span>
        </div>
        <div class="ptcg-u-spacer"></div>
        <div class="subtitle-hp">
          <span class="subtitle-hp-unit">HP</span>
          <span class="subtitle-hp-value">{{card.hp}}</span>
        </div>
        <div class="subtitle-card-type">
          <ptcg-energy [type]="card.cardType"></ptcg-energy>
        </div>
      </div>

      <div class="ability">
        <div class="ability-header">
          <div class="ability-type">Ability</div>
          <div class="ability-name">
            Ability name
          </div>
        </div>
        <div class="card-text">Ability text</div>
      </div>

      <div class="attack" *ngFor="let attack of card.attacks">
        <div class="attack-header">
          <div class="attack-cost">
            <ptcg-energy *ngIf="attack.cost.length === 0"></ptcg-energy>
            <ptcg-energy *ngFor="let cost of attack.cost" [type]="cost"></ptcg-energy>
          </div>
          <div class="attack-name">
            {{ attack.name }}
          </div>
          <div class="ptcg-u-spacer"></div>
          <div class="attack-damage">
            {{ attack.damage }}
          </div>
        </div>
        <div class="card-text" *ngIf="attack.text">
          {{ attack.text }}
        </div>
      </div>

      <div class="stats">
        <div class="stats-item">
          <div class="stats-item-header">Weakness</div>
          <div class="stats-item-value" *ngFor="let weakness of card.weakness">
            <div class="stats-item-value-type">
              <ptcg-energy [type]="weakness.type"></ptcg-energy>
            </div>
            <div class="stats-item-value-modifier">
              {{ weakness.value ? '+' + weakness.value : 'x2' }}
            </div>
          </div>
        </div>

        <div class="stats-item">
          <div class="stats-item-header">Resistance</div>
          <div class="stats-item-value" *ngFor="let resistance of card.resistance">
            <div class="stats-item-value-type">
              <ptcg-energy [type]="resistance.type"></ptcg-energy>
            </div>
            <div class="stats-item-value-modifier">
              {{ resistance.value }}
            </div>
          </div>
        </div>

        <div class="stats-item">
          <div class="stats-item-header">Retreat Cost</div>
          <div class="stats-item-value">
            <div class="stats-item-value-type">
              <ptcg-energy *ngFor="let cost of card.retreat" [type]="cost"></ptcg-energy>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
</mat-dialog-content>

<mat-dialog-actions>
  <button mat-raised-button (click)="cancel()">Cancel</button>
  <button mat-raised-button color="primary" (click)="confirm()">
    OK
  </button>
</mat-dialog-actions>
